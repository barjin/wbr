{
	"meta":{
	   "name": "Steam Specials Scraper",
	   "desc": "Scraper for Steam Specials. Shows usage of customized autoscraper."
	},
	"workflow":[
	   {
		  "name": "acceptCookies",
		  "where":{
			 "selectors":[
				"button:text-matches(\"(accept|agree|souhlasím|allow|přijmout)\", \"i\")"
			 ]
		  },
		  "what":[
			 {
				"type":"click",
				"args":[
				   "button:text-matches(\"(accept|agree|souhlasím|allow|přijmout)\", \"i\")"
				]
			 }
		  ]
	   },
	   {
		"name": "waitForAsyncLoad",
		"where":{
			"selectors": [
				":text-matches(\"(searching|loading)\",\"i\")"
			]
		},
		"what": [
			{
				"type": "waitForTimeout",
				"args": [
					2000
				]
			}
		]
	   },
	   {
		"name": "Scrape",
		  "where":{
			 "selectors": ["#TopSellers_btn_next:visible"]
		  },
		  "what":[
			 {
				"type": "scrapeSchema",
				"args": {
					"name": ".tab_item .tab_item_name",
					"priceOriginal": ".tab_item .discount_original_price",
					"priceCurrent": ".tab_item .discount_final_price",
					"reduction": ".tab_item .discount_pct"
				}
			 },
			 {
				"type":"waitForLoadState"
			 },
			 {
				"type":"waitForTimeout",
				"args":[
				   1000
				]
			 },
			 {
				"type":"click",
				"args":[
				   "#TopSellers_btn_next"
				]
			 }
		  ]
	   },
	   {
		  "name": "navigateToPage",
		  "where":{
			 "url": "about:blank"
		  },
		  "what":[
			 {
				"type":"goto",
				"args":"https://store.steampowered.com/specials/#p=0&tab=TopSellers"
			 },
			 {
				"type":"waitForLoadState"
			 },
			 {
				"type":"waitForTimeout",
				"args":[
				   3000
				]
			 }
		  ]
	   }
	]
 }